# æ±‡ç¼–åŠŸèƒ½ UI ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ¨ è®¾è®¡ç›®æ ‡
å°†å½“å‰çš„å¡ç‰‡å¼å¸ƒå±€æ”¹ä¸º Typora é£æ ¼çš„å·¦å³åˆ†æ å¸ƒå±€ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

## ğŸ“ å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š æ±‡ç¼– - æ£€å¯Ÿå·¥ä½œæ–‡æ¡£èµ„æ–™åº“          [ç®¡ç†åˆ†ç±»] [ä¸Šä¼ æ–‡æ¡£]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                          â”‚
â”‚  ğŸ” æœç´¢æ¡†        â”‚                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚                                          â”‚
â”‚                  â”‚                                          â”‚
â”‚  ğŸ“‚ æ³•å¾‹æ³•è§„ (5)  â”‚         ğŸ“„ æ–‡æ¡£é¢„è§ˆåŒºåŸŸ                   â”‚
â”‚    ğŸ“„ æ–‡æ¡£1 â­    â”‚                                          â”‚
â”‚    ğŸ“„ æ–‡æ¡£2      â”‚    [æ–‡æ¡£æ ‡é¢˜]                             â”‚
â”‚    ğŸ“„ æ–‡æ¡£3      â”‚                                          â”‚
â”‚                  â”‚    æ–‡æ¡£å†…å®¹åœ¨è¿™é‡Œæ˜¾ç¤º...                   â”‚
â”‚  ğŸ“‚ å·¥ä½œæŒ‡å¼• (3)  â”‚    - PDF: iframe é¢„è§ˆ                    â”‚
â”‚    ğŸ“„ æ–‡æ¡£4      â”‚    - DOCX: HTML é¢„è§ˆ                     â”‚
â”‚    ğŸ“„ æ–‡æ¡£5      â”‚                                          â”‚
â”‚                  â”‚                                          â”‚
â”‚  ğŸ“‚ æ¡ˆä¾‹æ±‡ç¼– (8)  â”‚                                          â”‚
â”‚    ğŸ“„ æ–‡æ¡£6      â”‚                                          â”‚
â”‚                  â”‚                                          â”‚
â”‚                  â”‚    [ä¸‹è½½] [ç¼–è¾‘] [åˆ é™¤] [ç½®é¡¶]            â”‚
â”‚                  â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. å·¦ä¾§æ–‡æ¡£æ ‘
- **åˆ†ç±»æŠ˜å /å±•å¼€**ï¼šç‚¹å‡»åˆ†ç±»åç§°å±•å¼€/æŠ˜å 
- **æ–‡æ¡£åˆ—è¡¨**ï¼šæ˜¾ç¤ºæ–‡æ¡£æ ‡é¢˜ã€å›¾æ ‡ã€ç½®é¡¶æ ‡è¯†
- **æœç´¢é«˜äº®**ï¼šæœç´¢ç»“æœé«˜äº®æ˜¾ç¤º
- **é€‰ä¸­çŠ¶æ€**ï¼šå½“å‰é€‰ä¸­çš„æ–‡æ¡£é«˜äº®
- **å¿«é€Ÿæ“ä½œ**ï¼šå³é”®èœå•ï¼ˆç¼–è¾‘ã€åˆ é™¤ã€ç½®é¡¶ï¼‰

### 2. å³ä¾§é¢„è§ˆåŒº
- **æ–‡æ¡£ä¿¡æ¯**ï¼šæ ‡é¢˜ã€åˆ†ç±»ã€å¤§å°ã€æ—¥æœŸã€ç»Ÿè®¡
- **é¢„è§ˆå†…å®¹**ï¼š
  - PDFï¼šä½¿ç”¨ iframe ç›´æ¥æ˜¾ç¤º
  - DOCXï¼šè½¬æ¢ä¸º HTML æ˜¾ç¤º
- **æ“ä½œæŒ‰é’®**ï¼šä¸‹è½½ã€ç¼–è¾‘ã€åˆ é™¤ã€ç½®é¡¶
- **ç©ºçŠ¶æ€**ï¼šæœªé€‰æ‹©æ–‡æ¡£æ—¶æ˜¾ç¤ºæç¤º

### 3. æœç´¢åŠŸèƒ½
- **å®æ—¶æœç´¢**ï¼šè¾“å…¥å³æœç´¢
- **æœç´¢èŒƒå›´**ï¼šæ ‡é¢˜ + æè¿°
- **ç»“æœè¿‡æ»¤**ï¼šåªæ˜¾ç¤ºåŒ¹é…çš„æ–‡æ¡£
- **æ¸…ç©ºæœç´¢**ï¼šä¸€é”®æ¸…ç©º

### 4. å“åº”å¼è®¾è®¡
- **å®½å±**ï¼šå·¦ä¾§ 300pxï¼Œå³ä¾§è‡ªé€‚åº”
- **çª„å±**ï¼šå·¦ä¾§å¯æŠ˜å ï¼Œå…¨å±é¢„è§ˆ

## ğŸ¯ äº¤äº’æµç¨‹

### æŸ¥çœ‹æ–‡æ¡£
1. ç”¨æˆ·ç‚¹å‡»å·¦ä¾§æ–‡æ¡£åˆ—è¡¨ä¸­çš„æ–‡æ¡£
2. å³ä¾§ç«‹å³åŠ è½½å¹¶æ˜¾ç¤ºé¢„è§ˆ
3. æ˜¾ç¤ºæ–‡æ¡£ä¿¡æ¯å’Œæ“ä½œæŒ‰é’®

### æœç´¢æ–‡æ¡£
1. ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯
2. å·¦ä¾§æ–‡æ¡£æ ‘å®æ—¶è¿‡æ»¤
3. åªæ˜¾ç¤ºåŒ¹é…çš„åˆ†ç±»å’Œæ–‡æ¡£
4. æ¸…ç©ºæœç´¢æ¢å¤å®Œæ•´åˆ—è¡¨

### ç®¡ç†æ–‡æ¡£ï¼ˆç®¡ç†å‘˜ï¼‰
1. ç‚¹å‡»æ–‡æ¡£å³é”®æˆ–æ“ä½œæŒ‰é’®
2. é€‰æ‹©ç¼–è¾‘/åˆ é™¤/ç½®é¡¶
3. æ“ä½œå®Œæˆåè‡ªåŠ¨åˆ·æ–°åˆ—è¡¨

## ğŸ¨ æ ·å¼è®¾è®¡

### é¢œè‰²æ–¹æ¡ˆ
- **ä¸»è‰²**ï¼š#409EFFï¼ˆè“è‰²ï¼‰
- **æˆåŠŸ**ï¼š#67C23Aï¼ˆç»¿è‰²ï¼‰
- **è­¦å‘Š**ï¼š#E6A23Cï¼ˆæ©™è‰²ï¼‰
- **å±é™©**ï¼š#F56C6Cï¼ˆçº¢è‰²ï¼‰
- **èƒŒæ™¯**ï¼š#F5F7FAï¼ˆæµ…ç°ï¼‰
- **è¾¹æ¡†**ï¼š#DCDFE6ï¼ˆç°è‰²ï¼‰

### å·¦ä¾§æ–‡æ¡£æ ‘
```css
.document-tree {
  width: 300px;
  background: white;
  border-right: 1px solid #DCDFE6;
  overflow-y: auto;
}

.category-item {
  padding: 12px 16px;
  cursor: pointer;
  font-weight: 600;
  border-bottom: 1px solid #EBEEF5;
}

.document-item {
  padding: 10px 16px 10px 32px;
  cursor: pointer;
  transition: all 0.3s;
}

.document-item:hover {
  background: #F5F7FA;
}

.document-item.active {
  background: #ECF5FF;
  border-left: 3px solid #409EFF;
}
```

### å³ä¾§é¢„è§ˆåŒº
```css
.preview-area {
  flex: 1;
  background: white;
  display: flex;
  flex-direction: column;
}

.preview-header {
  padding: 20px;
  border-bottom: 1px solid #EBEEF5;
}

.preview-content {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}
```

## ğŸ“ å®ç°æ­¥éª¤

### æ­¥éª¤ 1ï¼šé‡æ„æ•°æ®ç»“æ„
```javascript
// æŒ‰åˆ†ç±»ç»„ç»‡æ–‡æ¡£
const documentsByCategory = computed(() => {
  const grouped = {}
  documents.value.forEach(doc => {
    const catName = doc.category?.name || 'æœªåˆ†ç±»'
    if (!grouped[catName]) {
      grouped[catName] = {
        category: doc.category,
        documents: []
      }
    }
    grouped[catName].documents.push(doc)
  })
  return grouped
})
```

### æ­¥éª¤ 2ï¼šåˆ›å»ºå·¦ä¾§æ–‡æ¡£æ ‘ç»„ä»¶
```vue
<div class="document-tree">
  <div class="search-box">
    <el-input v-model="keyword" placeholder="æœç´¢æ–‡æ¡£..." clearable />
  </div>
  
  <div v-for="(group, catName) in filteredDocuments" :key="catName" class="category-group">
    <div class="category-item" @click="toggleCategory(catName)">
      <el-icon><Folder /></el-icon>
      <span>{{ catName }} ({{ group.documents.length }})</span>
    </div>
    
    <div v-show="expandedCategories.includes(catName)">
      <div
        v-for="doc in group.documents"
        :key="doc.id"
        class="document-item"
        :class="{ active: selectedDoc?.id === doc.id }"
        @click="selectDocument(doc)"
      >
        <el-icon v-if="doc.file_type === 'pdf'"><Document /></el-icon>
        <el-icon v-else><DocumentCopy /></el-icon>
        <span>{{ doc.title }}</span>
        <el-icon v-if="doc.is_pinned" color="#F56C6C"><Star /></el-icon>
      </div>
    </div>
  </div>
</div>
```

### æ­¥éª¤ 3ï¼šåˆ›å»ºå³ä¾§é¢„è§ˆåŒºç»„ä»¶
```vue
<div class="preview-area">
  <div v-if="!selectedDoc" class="empty-state">
    <el-empty description="è¯·é€‰æ‹©ä¸€ä¸ªæ–‡æ¡£æŸ¥çœ‹" />
  </div>
  
  <template v-else>
    <div class="preview-header">
      <h2>{{ selectedDoc.title }}</h2>
      <div class="doc-meta">
        <el-tag>{{ selectedDoc.category?.name }}</el-tag>
        <span>{{ selectedDoc.file_type.toUpperCase() }}</span>
        <span>{{ formatFileSize(selectedDoc.file_size) }}</span>
        <span>{{ formatDate(selectedDoc.created_at) }}</span>
      </div>
      <div class="doc-actions">
        <el-button @click="downloadDocument(selectedDoc)">ä¸‹è½½</el-button>
        <el-button v-if="isAdmin" @click="editDocument(selectedDoc)">ç¼–è¾‘</el-button>
        <el-button v-if="isAdmin" @click="togglePin(selectedDoc)">
          {{ selectedDoc.is_pinned ? 'å–æ¶ˆç½®é¡¶' : 'ç½®é¡¶' }}
        </el-button>
        <el-button v-if="isAdmin" type="danger" @click="deleteDocument(selectedDoc)">åˆ é™¤</el-button>
      </div>
    </div>
    
    <div class="preview-content" v-loading="previewLoading">
      <iframe v-if="previewType === 'pdf'" :src="previewContent" />
      <div v-else-if="previewType === 'html'" v-html="previewContent" class="docx-preview" />
    </div>
  </template>
</div>
```

### æ­¥éª¤ 4ï¼šå®ç°é¢„è§ˆé€»è¾‘
```javascript
async function selectDocument(doc) {
  selectedDoc.value = doc
  previewLoading.value = true
  
  try {
    if (doc.file_type === 'pdf') {
      const token = getToken()
      const url = `${API_BASE}/api/compilation/documents/${doc.id}/preview`
      const response = await fetch(url, {
        headers: { 'Authorization': `Bearer ${token}` }
      })
      const blob = await response.blob()
      previewContent.value = window.URL.createObjectURL(blob)
      previewType.value = 'pdf'
    } else {
      const res = await api.get(`/api/compilation/documents/${doc.id}/preview-docx`)
      previewContent.value = res.data.data.html
      previewType.value = 'html'
    }
  } catch (error) {
    ElMessage.error('é¢„è§ˆå¤±è´¥')
  } finally {
    previewLoading.value = false
  }
}
```

## ğŸš€ ä¼˜åŠ¿

1. **æ›´ç›´è§‚**ï¼šå·¦å³å¸ƒå±€ï¼Œä¸€ç›®äº†ç„¶
2. **æ›´å¿«é€Ÿ**ï¼šç‚¹å‡»å³é¢„è§ˆï¼Œæ— éœ€å¼¹çª—
3. **æ›´é«˜æ•ˆ**ï¼šæœç´¢ã€æµè§ˆã€é¢„è§ˆä¸€æ°”å‘µæˆ
4. **æ›´ç¾è§‚**ï¼šç°ä»£åŒ–è®¾è®¡ï¼Œç±»ä¼¼ä¸“ä¸šæ–‡æ¡£ç®¡ç†å·¥å…·

## ğŸ“¦ éœ€è¦çš„ä¾èµ–

æ— éœ€é¢å¤–ä¾èµ–ï¼Œä½¿ç”¨ç°æœ‰çš„ Element Plus ç»„ä»¶å³å¯ã€‚

## â±ï¸ é¢„è®¡å·¥ä½œé‡

- é‡æ„ UI å¸ƒå±€ï¼š1-2 å°æ—¶
- å®ç°äº¤äº’é€»è¾‘ï¼š1 å°æ—¶
- æ ·å¼ä¼˜åŒ–ï¼š30 åˆ†é’Ÿ
- æµ‹è¯•è°ƒè¯•ï¼š30 åˆ†é’Ÿ

**æ€»è®¡ï¼š3-4 å°æ—¶**

## ğŸ¯ ä¸‹ä¸€æ­¥

éœ€è¦æˆ‘ç°åœ¨å°±å¼€å§‹å®ç°è¿™ä¸ªæ–° UI å—ï¼Ÿæˆ‘ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥æµ‹è¯•åå†³å®šæ˜¯å¦æ›¿æ¢ã€‚
